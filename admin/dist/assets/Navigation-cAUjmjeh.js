import{_ as T,bp as R,bq as i,aN as y,az as b,a5 as j,br as w,bs as $,c as V,a as n,b as m,d as E,k as p,w as r,ad as C,h as S,F as h,o as l,ae as N,af as U,ag as x,l as d,t as _,i as k,a7 as D,j as v,m as I,aS as A,aX as O,aY as B,Q as F,r as q,aK as L}from"./index-BEvZ_zYI.js";const z={data:()=>({user:null,menu:{}}),setup(){const e=y(),t=b(),c=j(),a=w(),f=$();return{auth:c,i18n:a,languages:e,messages:t,theme:f}},created(){this.auth.user().then(e=>{this.user=e}).catch(e=>{this.messages.add(this.$gettext("Failed to load user")+`:
`+e,"error")})},methods:{logout(){this.auth.logout().finally(()=>{this.user=null,this.$router.push({name:"login"})})},change(e){R(Object.assign({"../../i18n/ar.json":()=>i(()=>import("./ar-D5atfnH9.js"),[],import.meta.url),"../../i18n/bg.json":()=>i(()=>import("./bg-FU609mEY.js"),[],import.meta.url),"../../i18n/cs.json":()=>i(()=>import("./cs-CJ_T7rXm.js"),[],import.meta.url),"../../i18n/da.json":()=>i(()=>import("./da-B8mHHsj_.js"),[],import.meta.url),"../../i18n/de.json":()=>i(()=>import("./de-BjFU9PU6.js"),[],import.meta.url),"../../i18n/el.json":()=>i(()=>import("./el-BNgFY9Hj.js"),[],import.meta.url),"../../i18n/en.json":()=>i(()=>import("./en-B3kwG4Fl.js"),[],import.meta.url),"../../i18n/es.json":()=>i(()=>import("./es-BDKrmUka.js"),[],import.meta.url),"../../i18n/et.json":()=>i(()=>import("./et-CmgjfugG.js"),[],import.meta.url),"../../i18n/fi.json":()=>i(()=>import("./fi-rTBzTcrd.js"),[],import.meta.url),"../../i18n/fr.json":()=>i(()=>import("./fr-aoVR8v3V.js"),[],import.meta.url),"../../i18n/he.json":()=>i(()=>import("./he-DLaGLNAf.js"),[],import.meta.url),"../../i18n/hu.json":()=>i(()=>import("./hu-AWRTUZJy.js"),[],import.meta.url),"../../i18n/id.json":()=>i(()=>import("./id-DVkitB9u.js"),[],import.meta.url),"../../i18n/it.json":()=>i(()=>import("./it-mVPxKWWd.js"),[],import.meta.url),"../../i18n/ja.json":()=>i(()=>import("./ja-ExnGmw0i.js"),[],import.meta.url),"../../i18n/ko.json":()=>i(()=>import("./ko-CqU7PZmv.js"),[],import.meta.url),"../../i18n/lt.json":()=>i(()=>import("./lt-BNcyRNLu.js"),[],import.meta.url),"../../i18n/lv.json":()=>i(()=>import("./lv-DLYZY1gf.js"),[],import.meta.url),"../../i18n/nl.json":()=>i(()=>import("./nl-C6xr8aT2.js"),[],import.meta.url),"../../i18n/no.json":()=>i(()=>import("./no-DoY14byR.js"),[],import.meta.url),"../../i18n/pl.json":()=>i(()=>import("./pl-NLvUaeNV.js"),[],import.meta.url),"../../i18n/pt.json":()=>i(()=>import("./pt-CwcK9zZF.js"),[],import.meta.url),"../../i18n/ro.json":()=>i(()=>import("./ro-Cc1eSRZC.js"),[],import.meta.url),"../../i18n/ru.json":()=>i(()=>import("./ru-D0SIMGDu.js"),[],import.meta.url),"../../i18n/sk.json":()=>i(()=>import("./sk-Bw-Ep6Vy.js"),[],import.meta.url),"../../i18n/sl.json":()=>i(()=>import("./sl-DGsd5S1j.js"),[],import.meta.url),"../../i18n/sv.json":()=>i(()=>import("./sv-DkPMmYWp.js"),[],import.meta.url),"../../i18n/th.json":()=>i(()=>import("./th-BFrYkYLn.js"),[],import.meta.url),"../../i18n/tr.json":()=>i(()=>import("./tr-BzG79EGS.js"),[],import.meta.url),"../../i18n/uk.json":()=>i(()=>import("./uk-D6Ev7MRd.js"),[],import.meta.url),"../../i18n/vi.json":()=>i(()=>import("./vi-eQcUQzE9.js"),[],import.meta.url),"../../i18n/zh.json":()=>i(()=>import("./zh-CdUN7qO5.js"),[],import.meta.url)}),`../../i18n/${e}.json`,4).then(t=>{this.i18n.translations=t.default||t,this.$vuetify.locale.current=e,this.i18n.current=e})}}};function G(e,t,c,a,f,u){return l(),V(h,null,[n(p,{onClick:t[0]||(t[0]=o=>a.theme.toggle()),title:e.$gettext("Toggle light/dark mode"),icon:a.theme.global.current.value.dark?"mdi-white-balance-sunny":"mdi-weather-night"},null,8,["title","icon"]),(l(),m(C(e.$vuetify.display.xs?"v-dialog":"v-menu"),{modelValue:e.menu.lang,"onUpdate:modelValue":t[3]||(t[3]=o=>e.menu.lang=o),transition:"scale-transition",location:"bottom","max-width":"300"},{activator:r(({props:o})=>[n(p,I(o,{title:e.$gettext("Switch language"),icon:"mdi-web",variant:"text"}),null,16,["title"])]),default:r(()=>[n(N,null,{default:r(()=>[n(U,{density:"compact"},{default:r(()=>[n(x,null,{default:r(()=>[d(_(e.$gettext("Switch language")),1)]),_:1}),n(p,{icon:"mdi-close",onClick:t[1]||(t[1]=o=>e.menu.lang=!1)})]),_:1}),n(k,{onClick:t[2]||(t[2]=o=>e.menu.lang=!1)},{default:r(()=>[(l(!0),V(h,null,D(a.i18n.available,(o,s)=>(l(),m(v,{key:s},{default:r(()=>[n(p,{onClick:g=>u.change(s),variant:"text"},{default:r(()=>[d(_(a.languages.translate(s))+" ("+_(s)+")",1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])),e.user?(l(),m(S,{key:0},{activator:r(({props:o})=>[n(p,I(o,{title:e.$gettext("User menu"),icon:"mdi-account-circle-outline",class:"icon"}),null,16,["title"])]),default:r(()=>[n(k,null,{default:r(()=>{var o;return[(o=e.user)!=null&&o.name?(l(),m(v,{key:0},{default:r(()=>[d(_(e.user.name),1)]),_:1})):E("",!0),n(v,null,{default:r(()=>[n(p,{"prepend-icon":"mdi-logout",onClick:t[4]||(t[4]=s=>u.logout()),variant:"text",class:"menu-item"},{default:r(()=>[d(_(e.$gettext("Logout")),1)]),_:1})]),_:1})]}),_:1})]),_:1})):E("",!0)],64)}const Y=T(z,[["render",G],["__scopeId","data-v-d76d346d"]]),J={props:{content:{type:Array,required:!0},filter:{type:Object,required:!0}},emits:["update:filter"],setup(){return{drawer:A()}},data(){return{initial:null,open:[]}},created(){this.initial={...this.filter},this.open=this.content.map((e,t)=>this.has(e.key)?t:!1).filter(e=>e!==!1)},computed:{disabled(){return JSON.stringify(this.filter)===JSON.stringify(this.initial)}},methods:{active(e){for(const t in e.value)if(this.filter[t]!==e.value[t])return!1;return!0},has(e){return this.filter[e]!==null},toggle(e){for(const t in e.value)this.filter[t]=e.value[t];this.$emit("update:filter",this.filter)}}};function M(e,t,c,a,f,u){return l(),m(O,{modelValue:a.drawer.aside,"onUpdate:modelValue":t[2]||(t[2]=o=>a.drawer.aside=o),"mobile-breakpoint":"md",location:"end"},{default:r(()=>[n(p,{class:"reset",disabled:u.disabled,onClick:t[0]||(t[0]=o=>e.$emit("update:filter",f.initial)),"prepend-icon":"mdi-close-circle-outline",variant:"text"},{default:r(()=>[d(_(e.$gettext("Reset")),1)]),_:1},8,["disabled"]),n(k,{opened:f.open,"onUpdate:opened":t[1]||(t[1]=o=>f.open=o)},{default:r(()=>[(l(!0),V(h,null,D(c.content,(o,s)=>(l(),m(B,{key:s,value:s},{activator:r(({props:g})=>[n(v,I({ref_for:!0},g,{class:{active:u.has(o.key)}}),{default:r(()=>[d(_(o.title||o.key),1)]),_:2},1040,["class"])]),default:r(()=>[(l(!0),V(h,null,D(o.items||[],(g,P)=>(l(),m(v,{active:u.active(g),key:P,rounded:"lg"},{default:r(()=>[n(p,{onClick:Q=>u.toggle(g),"prepend-icon":g.icon,variant:"text"},{default:r(()=>[d(_(g.title),1)]),_:2},1032,["onClick","prepend-icon"])]),_:2},1032,["active"]))),128))]),_:2},1032,["value"]))),128))]),_:1},8,["opened"])]),_:1},8,["modelValue"])}const W=T(J,[["render",M],["__scopeId","data-v-13a039db"]]),H={setup(){const{mobile:e}=F(),t=A();return{auth:j(),drawer:t,mobile:e}},methods:{toggle(){this.mobile&&(this.drawer.nav=!this.drawer.nav)}}};function K(e,t,c,a,f,u){const o=q("router-link");return l(),m(O,{modelValue:a.drawer.nav,"onUpdate:modelValue":t[3]||(t[3]=s=>a.drawer.nav=s),location:"start","mobile-breakpoint":"lg"},{default:r(()=>[n(k,null,{default:r(()=>[a.auth.can("page:view")?(l(),m(v,{key:0,rounded:"lg"},{default:r(()=>[n(L,{icon:"mdi-file-tree",class:"icon"}),n(o,{to:"/pages",class:"router-link",onClick:t[0]||(t[0]=s=>u.toggle())},{default:r(()=>[d(_(e.$gettext("Pages")),1)]),_:1})]),_:1})):E("",!0),a.auth.can("element:view")?(l(),m(v,{key:1,rounded:"lg"},{default:r(()=>[n(L,{icon:"mdi-share-variant",class:"icon"}),n(o,{to:"/elements",class:"router-link",onClick:t[1]||(t[1]=s=>u.toggle())},{default:r(()=>[d(_(e.$gettext("Shared elements")),1)]),_:1})]),_:1})):E("",!0),a.auth.can("file:view")?(l(),m(v,{key:2,rounded:"lg"},{default:r(()=>[n(L,{icon:"mdi-folder-multiple-image",class:"icon"}),n(o,{to:"/files",class:"router-link",onClick:t[2]||(t[2]=s=>u.toggle())},{default:r(()=>[d(_(e.$gettext("Files")),1)]),_:1})]),_:1})):E("",!0)]),_:1})]),_:1},8,["modelValue"])}const Z=T(H,[["render",K],["__scopeId","data-v-21d710df"]]);export{W as A,Z as N,Y as U};
