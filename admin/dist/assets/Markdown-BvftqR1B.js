var X=Object.defineProperty;var Y=(i,e,t)=>e in i?X(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var B=(i,e,t)=>Y(i,typeof e!="symbol"?e+"":e,t);import{P as p,E as Z,D as ee,B as te,M as P,q as ne,C as v,f as k,S as oe,U as ie,a as se,c as q,b as L,d as M,e as F,g as $,h as R,i as j,j as z,k as ae,l as U,p as ce,_ as le,m as re,n as de,o as ue,r as me,s as ge,t as fe,u as he,v as pe,w as be,x as ke,y as Be,z as ve,A as Ce,F as xe,G as we,H as Se,I as Ee,J as Pe,K as Ae,L as Le,N as _e,O as ye,Q as Ve,R as Te,T as De,V as Ie,W as Oe,X as Qe,Y as He,Z as Ne,$ as qe,a0 as Me,a1 as Fe,a2 as $e,a3 as Re,a4 as je,a5 as ze,a6 as Ue,a7 as We,a8 as Ge,a9 as Ke,aa as Je,ab as Xe,ac as Ye,ad as Ze,ae as et,af as tt}from"./ckeditor5-D8NmlZK5.js";import{_ as nt,ai as ot,aj as it,o as _,c as y,d as st,a as at,r as ct}from"./index-qpWCrkU6.js";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class lt extends v{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,a=t.document.selection,s=Array.from(a.getSelectedBlocks()),o=e.forceValue===void 0?!this.value:e.forceValue;t.change(c=>{if(!o)this._removeQuote(c,s.filter(C));else{const l=s.filter(r=>C(r)||T(n,r));this._applyQuote(c,l)}})}_getValue(){const e=this.editor.model.document.selection,t=k(e.getSelectedBlocks());return!!(t&&C(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=k(e.getSelectedBlocks());return n?T(t,n):!1}_removeQuote(e,t){V(e,t).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd){e.unwrap(n.start.parent);return}if(n.start.isAtStart){const s=e.createPositionBefore(n.start.parent);e.move(n,s);return}n.end.isAtEnd||e.split(n.end);const a=e.createPositionAfter(n.end.parent);e.move(n,a)})}_applyQuote(e,t){const n=[];V(e,t).reverse().forEach(a=>{let s=C(a.start);s||(s=e.createElement("blockQuote"),e.wrap(a,s)),n.push(s)}),n.reverse().reduce((a,s)=>a.nextSibling==s?(e.merge(e.createPositionAfter(a)),a):s)}}function C(i){return i.parent.name=="blockQuote"?i.parent:null}function V(i,e){let t,n=0;const a=[];for(;n<e.length;){const s=e[n],o=e[n+1];t||(t=i.createPositionBefore(s)),(!o||s.nextSibling!=o)&&(a.push(i.createRange(t,i.createPositionAfter(s))),t=null),n++}return a}function T(i,e){const t=i.checkChild(e.parent,"blockQuote"),n=i.checkChild(["$root","blockQuote"],e);return t&&n}class rt extends p{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Z,ee]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new lt(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(o=>{const c=e.model.document.differ.getChanges();for(const l of c)if(l.type=="insert"){const r=l.position.nodeAfter;if(!r)continue;if(r.is("element","blockQuote")&&r.isEmpty)return o.remove(r),!0;if(r.is("element","blockQuote")&&!t.checkChild(l.position,r))return o.unwrap(r),!0;if(r.is("element")){const m=o.createRangeIn(r);for(const d of m.getItems())if(d.is("element","blockQuote")&&!t.checkChild(o.createPositionBefore(d),d))return o.unwrap(d),!0}}else if(l.type=="remove"){const r=l.position.parent;if(r.is("element","blockQuote")&&r.isEmpty)return o.remove(r),!0}return!1});const n=this.editor.editing.view.document,a=e.model.document.selection,s=e.commands.get("blockQuote");this.listenTo(n,"enter",(o,c)=>{if(!a.isCollapsed||!s.value)return;a.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),c.preventDefault(),o.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(o,c)=>{if(c.direction!="backward"||!a.isCollapsed||!s.value)return;const l=a.getLastPosition().parent;l.isEmpty&&!l.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),c.preventDefault(),o.stop())},{context:"blockquote"})}}class dt extends p{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("blockQuote",()=>{const t=this._createButton(te);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:blockQuote",()=>{const t=this._createButton(P);return t.set({role:"menuitemcheckbox"}),t})}_createButton(e){const t=this.editor,n=t.locale,a=t.commands.get("blockQuote"),s=new e(t.locale),o=n.t;return s.set({label:o("Block quote"),icon:ne,isToggleable:!0}),s.bind("isEnabled").to(a,"isEnabled"),s.bind("isOn").to(a,"value"),this.listenTo(s,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),s}}class ut extends p{static get requires(){return[rt,dt]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function x(i){const e=i.t,t=i.config.get("codeBlock.languages");for(const n of t)n.label==="Plain text"&&(n.label=e("Plain text")),n.class===void 0&&(n.class=`language-${n.language}`);return t}function w(i,e,t){const n={};for(const a of i)if(e==="class"){const s=a[e].split(" ").shift();n[s]=a[t]}else n[a[e]]=a[t];return n}function A(i){return i.data.match(/^(\s*)/)[0]}function mt(i,e){const t=i.createDocumentFragment(),n=e.split(`
`),a=n.reduce((s,o,c)=>(s.push(o),c<n.length-1&&s.push(i.createElement("br")),s),[]);return i.appendChild(a,t),t}function E(i){const e=i.document.selection,t=[];if(e.isCollapsed)return[e.anchor];const n=e.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:a}of n){let s=a.is("$textProxy")?a.textNode:a;const o=s.parent;if(!o.is("element","codeBlock")||s.is("element","softBreak"))continue;for(;s.previousSibling&&!s.previousSibling.is("element","softBreak");)s=s.previousSibling;const c=s.is("$text")?s.startOffset+A(s).length:s.startOffset,l=i.createPositionAt(o,c);t.every(r=>!r.isEqual(l))&&t.push(l)}return t}function W(i){const e=k(i.getSelectedBlocks());return!!e&&e.is("element","codeBlock")}function D(i,e){return e.is("rootElement")||i.isLimit(e)?!1:i.checkChild(e.parent,"codeBlock")}function I(i,e,t,n){const a=w(e,"language","label"),s=t.getAttribute("language");if(s in a){const o=a[s];return i(n==="enter"?"Entering %0 code snippet":"Leaving %0 code snippet",o)}return i(n==="enter"?"Entering code snippet":"Leaving code snippet")}function G(i,e){for(i.textNode&&(i=e.createPositionBefore(i.textNode));i.nodeBefore&&!i.nodeBefore.is("element","softBreak");)i=e.createPositionBefore(i.nodeBefore);const t=i.nodeAfter;return t&&t.is("$text")?t:null}class gt extends v{constructor(t){super(t);B(this,"_lastLanguage");this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const n=this.editor,a=n.model,s=a.document.selection,c=x(n)[0],l=Array.from(s.getSelectedBlocks()),r=t.forceValue==null?!this.value:t.forceValue,m=ft(t,this._lastLanguage,c.language);a.change(d=>{r?this._applyCodeBlock(d,l,m):this._removeCodeBlock(d,l)})}_getValue(){const t=this.editor.model.document.selection,n=k(t.getSelectedBlocks());return!!(n!=null&&n.is("element","codeBlock"))?n.getAttribute("language"):!1}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,n=this.editor.model.schema,a=k(t.getSelectedBlocks());return a?D(n,a):!1}_applyCodeBlock(t,n,a){this._lastLanguage=a;const s=this.editor.model.schema,o=n.filter(c=>D(s,c));for(const c of o)t.rename(c,"codeBlock"),t.setAttribute("language",a,c),s.removeDisallowedAttributes([c],t),Array.from(c.getChildren()).filter(l=>!s.checkChild(c,l)).forEach(l=>t.remove(l));o.reverse().forEach((c,l)=>{const r=o[l+1];c.previousSibling===r&&(t.appendElement("softBreak",r),t.merge(t.createPositionBefore(c)))})}_removeCodeBlock(t,n){const a=n.filter(s=>s.is("element","codeBlock"));for(const s of a){const o=t.createRangeOn(s);for(const c of Array.from(o.getItems()).reverse())if(c.is("element","softBreak")&&c.parent.is("element","codeBlock")){const{position:l}=t.split(t.createPositionBefore(c)),r=l.nodeAfter;t.rename(r,"paragraph"),t.removeAttribute("language",r),t.remove(c)}t.rename(s,"paragraph"),t.removeAttribute("language",s)}}}function ft(i,e,t){return i.language?i.language:i.usePreviousLanguageChoice&&e?e:t}class ht extends v{constructor(t){super(t);B(this,"_indentSequence");this._indentSequence=t.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model;n.change(a=>{const s=E(n);for(const o of s){const c=a.createText(this._indentSequence);n.insertContent(c,o)}})}_checkEnabled(){return this._indentSequence?W(this.editor.model.document.selection):!1}}class pt extends v{constructor(t){super(t);B(this,"_indentSequence");this._indentSequence=t.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model;n.change(()=>{const a=E(n);for(const s of a){const o=O(n,s,this._indentSequence);o&&n.deleteContent(n.createSelection(o))}})}_checkEnabled(){if(!this._indentSequence)return!1;const t=this.editor.model;return W(t.document.selection)?E(t).some(n=>O(t,n,this._indentSequence)):!1}}function O(i,e,t){const n=G(e,i);if(!n)return null;const a=A(n),s=a.lastIndexOf(t);if(s+t.length!==a.length||s===-1)return null;const{parent:o,startOffset:c}=n;return i.createRange(i.createPositionAt(o,c+s),i.createPositionAt(o,c+s+t.length))}function Q(i,e,t=!1){const n=w(e,"language","class"),a=w(e,"language","label");return(s,o,c)=>{const{writer:l,mapper:r,consumable:m}=c;if(!m.consume(o.item,"insert"))return;const d=o.item.getAttribute("language"),u=r.toViewPosition(i.createPositionBefore(o.item)),g={};t&&(g["data-language"]=a[d],g.spellcheck="false");const f=n[d]?{class:n[d]}:void 0,h=l.createContainerElement("code",f),J=l.createContainerElement("pre",g,h);l.insert(u,J),r.bindElements(o.item,h)}}function bt(i){return(e,t,n)=>{if(t.item.parent.name!=="codeBlock")return;const{writer:a,mapper:s,consumable:o}=n;if(!o.consume(t.item,"insert"))return;const c=s.toViewPosition(i.createPositionBefore(t.item));a.insert(c,a.createText(`
`))}}function kt(i,e){const t=w(e,"class","language"),n=e[0].language;return(a,s,o)=>{const c=s.viewItem,l=c.parent;if(!l||!l.is("element","pre")||s.modelCursor.findAncestor("codeBlock"))return;const{consumable:r,writer:m}=o;if(!r.test(c,{name:!0}))return;const d=m.createElement("codeBlock"),u=[...c.getClassNames()];u.length||u.push("");for(const g of u){const f=t[g];if(f){m.setAttribute("language",f,d);break}}d.hasAttribute("language")||m.setAttribute("language",n,d),o.convertChildren(c,d),o.safeInsert(d,s.modelCursor)&&(r.consume(c,{name:!0}),o.updateConversionResult(d,s))}}function Bt(){return(i,e,{consumable:t,writer:n})=>{let a=e.modelCursor;if(!t.test(e.viewItem)||!a.findAncestor("codeBlock"))return;t.consume(e.viewItem);const o=e.viewItem.data.split(`
`).map(l=>n.createText(l)),c=o[o.length-1];for(const l of o)if(n.insert(l,a),a=a.getShiftedBy(l.offsetSize),l!==c){const r=n.createElement("softBreak");n.insert(r,a),a=n.createPositionAfter(r)}e.modelRange=n.createRange(e.modelCursor,a),e.modelCursor=a}}function vt(){return(i,e,{consumable:t})=>{const n=e.viewItem;if(n.findAncestor("pre"))return;const a=Array.from(n.getChildren()),s=a.find(o=>o.is("element","code"));if(s)for(const o of a)o===s||!o.is("$text")||t.consume(o,{name:!0})}}const K="paragraph";class Ct extends p{static get pluginName(){return"CodeBlockEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[oe]}constructor(e){super(e),e.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"go",label:"Go"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const e=this.editor,t=e.model.schema,n=e.model,a=e.editing.view,s=x(e);e.commands.add("codeBlock",new gt(e)),e.commands.add("indentCodeBlock",new ht(e)),e.commands.add("outdentCodeBlock",new pt(e)),this.listenTo(a.document,"tab",(o,c)=>{const l=c.shiftKey?"outdentCodeBlock":"indentCodeBlock";e.commands.get(l).isEnabled&&(e.execute(l),c.stopPropagation(),c.preventDefault(),o.stop())},{context:"pre"}),t.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",disallowChildren:"$inlineObject",allowAttributes:["language"],allowAttributesOf:"$listItem",isBlock:!0}),t.addAttributeCheck((o,c)=>{const l=o.getItem(o.length-2);if(t.getAttributeProperties(c).isFormatting&&l&&l.name=="codeBlock")return!1}),e.editing.downcastDispatcher.on("insert:codeBlock",Q(n,s,!0)),e.data.downcastDispatcher.on("insert:codeBlock",Q(n,s)),e.data.downcastDispatcher.on("insert:softBreak",bt(n),{priority:"high"}),e.data.upcastDispatcher.on("element:code",kt(a,s)),e.data.upcastDispatcher.on("text",Bt()),e.data.upcastDispatcher.on("element:pre",vt(),{priority:"high"}),this.listenTo(e.editing.view.document,"clipboardInput",(o,c)=>{let l=n.createRange(n.document.selection.anchor);if(c.targetRanges&&(l=e.editing.mapper.toModelRange(c.targetRanges[0])),!l.start.parent.is("element","codeBlock"))return;const r=c.dataTransfer.getData("text/plain"),m=new ie(e.editing.view.document);c.content=mt(m,r)}),e.plugins.has("ClipboardPipeline")&&e.plugins.get(se).on("contentInsertion",(o,c)=>{const l=e.model,r=l.document.selection;r.anchor.parent.is("element","codeBlock")&&l.change(m=>{const d=m.createRangeIn(c.content);for(const u of[...d.getItems()])u.is("node")&&!t.checkChild(r.anchor,u)&&m.remove(u)})}),this.listenTo(n,"getSelectedContent",(o,[c])=>{const l=c.anchor;c.isCollapsed||!l.parent.is("element","codeBlock")||!l.hasSameParentAs(c.focus)||n.change(r=>{const m=o.return;if(l.parent.is("element")&&(m.childCount>1||c.containsEntireContent(l.parent))){const u=r.createElement("codeBlock",l.parent.getAttributes());r.append(m,u);const g=r.createDocumentFragment();r.append(u,g),o.return=g;return}const d=m.getChild(0);t.checkAttribute(d,"code")&&r.setAttribute("code",!0,d)})})}afterInit(){const e=this.editor,t=e.commands,n=t.get("indent"),a=t.get("outdent");n&&n.registerChildCommand(t.get("indentCodeBlock"),{priority:"highest"}),a&&a.registerChildCommand(t.get("outdentCodeBlock")),this.listenTo(e.editing.view.document,"enter",(s,o)=>{e.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(!wt(e,o.isSoft)&&!St(e,o.isSoft)&&xt(e),o.preventDefault(),s.stop())},{context:"pre"}),this._initAriaAnnouncements()}_initAriaAnnouncements(){const{model:e,ui:t,t:n}=this.editor,a=x(this.editor);let s=null;e.document.selection.on("change:range",()=>{const o=e.document.selection.focus.parent;!t||s===o||!o.is("element")||(s&&s.is("element","codeBlock")&&t.ariaLiveAnnouncer.announce(I(n,a,s,"leave")),o.is("element","codeBlock")&&t.ariaLiveAnnouncer.announce(I(n,a,o,"enter")),s=o)})}}function xt(i){const e=i.model,t=e.document,n=t.selection.getLastPosition();let a;const s=G(n,e);s&&s.is("$text")&&(a=A(s)),i.model.change(o=>{i.execute("shiftEnter"),a&&o.insertText(a,t.selection.anchor)})}function wt(i,e){const n=i.model.document,a=i.editing.view,s=n.selection.getLastPosition(),o=s.nodeAfter;return e||!n.selection.isCollapsed||!s.isAtStart||!b(o)?!1:(i.model.change(c=>{i.execute("enter");const l=n.selection.anchor.parent.previousSibling;c.rename(l,K),c.setSelection(l,"in"),i.model.schema.removeDisallowedAttributes([l],c),c.remove(o)}),a.scrollToTheSelection(),!0)}function St(i,e){const t=i.model,n=t.document,a=i.editing.view,s=n.selection.getLastPosition(),o=s.nodeBefore;let c;if(e||!n.selection.isCollapsed||!s.isAtEnd||!o||!o.previousSibling)return!1;if(b(o)&&b(o.previousSibling))c=t.createRange(t.createPositionBefore(o.previousSibling),t.createPositionAfter(o));else if(S(o)&&b(o.previousSibling)&&b(o.previousSibling.previousSibling))c=t.createRange(t.createPositionBefore(o.previousSibling.previousSibling),t.createPositionAfter(o));else if(S(o)&&b(o.previousSibling)&&S(o.previousSibling.previousSibling)&&o.previousSibling.previousSibling&&b(o.previousSibling.previousSibling.previousSibling))c=t.createRange(t.createPositionBefore(o.previousSibling.previousSibling.previousSibling),t.createPositionAfter(o));else return!1;return i.model.change(l=>{l.remove(c),i.execute("enter");const r=n.selection.anchor.parent;l.rename(r,K),i.model.schema.removeDisallowedAttributes([r],l)}),a.scrollToTheSelection(),!0}function S(i){return i&&i.is("$text")&&!i.data.match(/\S/)}function b(i){return i&&i.is("element","softBreak")}class Et extends p{static get pluginName(){return"CodeBlockUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,n=e.ui.componentFactory,a=x(e),s=this._getLanguageListItemDefinitions(a),o=e.commands.get("codeBlock");n.add("codeBlock",c=>{const l=q(c,ae),r=l.buttonView,m=t("Insert code block");return r.set({label:m,tooltip:!0,icon:L,isToggleable:!0}),r.bind("isOn").to(o,"value",d=>!!d),r.on("execute",()=>{e.execute("codeBlock",{usePreviousLanguageChoice:!0}),e.editing.view.focus()}),l.on("execute",d=>{e.execute("codeBlock",{language:d.source._codeBlockLanguage,forceValue:!0}),e.editing.view.focus()}),l.class="ck-code-block-dropdown",l.bind("isEnabled").to(o),M(l,s,{role:"menu",ariaLabel:m}),l}),n.add("menuBar:codeBlock",c=>{const l=new F(c);l.buttonView.set({role:"menuitem",label:t("Code block"),icon:L}),l.bind("isEnabled").to(o);const r=new $(c);r.set({ariaLabel:t("Insert code block")});for(const m of s){const d=new R(c,l),u=new P(c);u.bind(...Object.keys(m.model)).to(m.model),u.set({isToggleable:!0,role:"menuitemcheckbox"}),u.delegate("execute").to(l),u.on("execute",()=>{e.execute("codeBlock",{language:m.model._codeBlockLanguage,forceValue:o.value!=m.model._codeBlockLanguage}),e.editing.view.focus()}),d.children.add(u),r.items.add(d)}return l.panelView.children.add(r),l})}_getLanguageListItemDefinitions(e){const n=this.editor.commands.get("codeBlock"),a=new j;for(const s of e){const o={type:"button",model:new z({_codeBlockLanguage:s.language,label:s.label,role:"menuitemradio",withText:!0})};o.model.bind("isOn").to(n,"value",c=>c===o.model._codeBlockLanguage),a.add(o)}return a}}class Pt extends p{static get requires(){return[Ct,Et]}static get pluginName(){return"CodeBlock"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class At extends v{constructor(t,n){super(t);B(this,"modelElements");this.modelElements=n}refresh(){const t=k(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(n=>H(t,n,this.editor.model.schema))}execute(t){const n=this.editor.model,a=n.document,s=t.value;n.change(o=>{const c=Array.from(a.selection.getSelectedBlocks()).filter(l=>H(l,s,n.schema));for(const l of c)l.is("element",s)||o.rename(l,s)})}}function H(i,e,t){return t.checkChild(i.parent,e)&&!t.isObject(i)}const N="paragraph";class Lt extends p{static get pluginName(){return"HeadingEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[U]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const a of t)a.model!=="paragraph"&&(e.model.schema.register(a.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(a),n.push(a.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new At(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(a,s)=>{const o=e.model.document.selection.getFirstPosition().parent;n.some(l=>o.is("element",l.model))&&!o.is("element",N)&&o.childCount===0&&s.writer.rename(o,N)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:ce.low+1})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _t(i){const e=i.t,t={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return i.config.get("heading.options").map(n=>{const a=t[n.title];return a&&a!=n.title&&(n.title=a),n})}class yt extends p{static get pluginName(){return"HeadingUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,n=_t(e),a=t("Choose heading"),s=t("Heading");e.ui.componentFactory.add("heading",o=>{const c={},l=new j,r=e.commands.get("heading"),m=e.commands.get("paragraph"),d=[r];for(const g of n){const f={type:"button",model:new z({label:g.title,class:g.class,role:"menuitemradio",withText:!0})};g.model==="paragraph"?(f.model.bind("isOn").to(m,"value"),f.model.set("commandName","paragraph"),d.push(m)):(f.model.bind("isOn").to(r,"value",h=>h===g.model),f.model.set({commandName:"heading",commandValue:g.model})),l.add(f),c[g.model]=g.title}const u=q(o);return M(u,l,{ariaLabel:s,role:"menu"}),u.buttonView.set({ariaLabel:s,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:s}),u.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),u.bind("isEnabled").toMany(d,"isEnabled",(...g)=>g.some(f=>f)),u.buttonView.bind("label").to(r,"value",m,"value",(g,f)=>{const h=f?"paragraph":g;return typeof h=="boolean"||!c[h]?a:c[h]}),u.buttonView.bind("ariaLabel").to(r,"value",m,"value",(g,f)=>{const h=f?"paragraph":g;return typeof h=="boolean"||!c[h]?s:`${c[h]}, ${s}`}),this.listenTo(u,"execute",g=>{const{commandName:f,commandValue:h}=g.source;e.execute(f,h?{value:h}:void 0),e.editing.view.focus()}),u}),e.ui.componentFactory.add("menuBar:heading",o=>{const c=new F(o),l=e.commands.get("heading"),r=e.commands.get("paragraph"),m=[l],d=new $(o);c.set({class:"ck-heading-dropdown"}),d.set({ariaLabel:t("Heading"),role:"menu"}),c.buttonView.set({label:t("Heading")}),c.panelView.children.add(d);for(const u of n){const g=new R(o,c),f=new P(o);g.children.add(f),d.items.add(g),f.set({isToggleable:!0,label:u.title,role:"menuitemradio",class:u.class}),f.delegate("execute").to(c),f.on("execute",()=>{const h=u.model==="paragraph"?"paragraph":"heading";e.execute(h,{value:u.model}),e.editing.view.focus()}),u.model==="paragraph"?(f.bind("isOn").to(r,"value"),m.push(r)):f.bind("isOn").to(l,"value",h=>h===u.model)}return c.bind("isEnabled").toMany(m,"isEnabled",(...u)=>u.some(g=>g)),c})}}class Vt extends p{static get requires(){return[Lt,yt]}static get pluginName(){return"Heading"}static get isOfficialPlugin(){return!0}}const Tt={components:{Ckeditor:le},props:{modelValue:{type:String},config:{type:Object,default:()=>{}},assets:{type:Object,default:()=>{}},readonly:{type:Boolean,default:!1},context:{type:Object}},emits:["update:modelValue","error"],data(){return{editor:tt,visible:!1}},beforeUnmount(){this.visible=!1},computed:{ckconfig(){return{licenseKey:"GPL",plugins:[Fe,$e,Re,je,ze,Ue,We,Vt,U,Ge,Ke,Je,ut,Xe,Pt,Ye,Ze,et],toolbar:["undo","redo","removeFormat","|","heading","|","bold","italic","strikethrough","code","link","|","blockQuote","codeBlock","|","bulletedList","numberedList","|","fullscreen"],translations:[re,de,ue,me,ge,fe,he,pe,be,ke,Be,ve,Ce,xe,we,Se,Ee,Pe,Ae,Le,_e,ye,Ve,Te,De,Ie,Oe,Qe,He,Ne,qe,Me],language:{ui:this.$vuetify.locale.current}}},rules(){return[i=>!this.config.min||+(i==null?void 0:i.length)>=+this.config.min||this.$gettext("Minimum length is %{num} characters",{num:this.config.min}),i=>!this.config.max||+(i==null?void 0:i.length)<=+this.config.max||this.$gettext("Maximum length is %{num} characters",{num:this.config.max})]}},methods:{show(i){this.visible=i},update(i){this.modelValue!=i&&this.$emit("update:modelValue",i)}},watch:{modelValue:{immediate:!0,handler(i){this.$emit("error",!this.rules.every(e=>e(i??this.config.default??"")===!0))}}}},Dt={key:0};function It(i,e,t,n,a,s){const o=ct("ckeditor"),c=it("observe-visibility");return ot((_(),y("div",null,[a.visible?(_(),y("div",Dt,[at(o,{config:s.ckconfig,editor:a.editor,disabled:t.readonly,modelValue:t.modelValue??t.config.default??"","onUpdate:modelValue":e[0]||(e[0]=l=>s.update(l))},null,8,["config","editor","disabled","modelValue"])])):st("",!0)])),[[c,s.show]])}const Nt=nt(Tt,[["render",It]]);export{Nt as default};
