import{_ as j,be as b,bf as t,aB as y,av as w,a1 as O,bg as $,c as V,a,b as s,d as f,w as o,I as A,F as L,o as n,a9 as I,a3 as D,aa as d,h as E,k as p,t as m,H as P,aF as k,aP as R,aQ as C,P as x,r as S,G as h}from"../index.js";const N={data:()=>({user:null}),setup(){const e=y(),r=w(),c=O(),l=$();return{auth:c,i18n:l,languages:e,messages:r}},created(){this.auth.user().then(e=>{this.user=e}).catch(e=>{this.messages.add(this.$gettext("Failed to load user"),"error")})},methods:{logout(){this.auth.logout().then(()=>{this.user=null,this.$router.replace("/")}).catch(e=>{this.messages.add(this.$gettext("Logout failed"),"error")})},change(e){b(Object.assign({"../../i18n/ar.json":()=>t(()=>import("./ar-1NmNQM9z.js"),[],import.meta.url),"../../i18n/bg.json":()=>t(()=>import("./bg-BJ9YUnjq.js"),[],import.meta.url),"../../i18n/cs.json":()=>t(()=>import("./cs-QseGFLwL.js"),[],import.meta.url),"../../i18n/da.json":()=>t(()=>import("./da-CK0bHe2F.js"),[],import.meta.url),"../../i18n/de.json":()=>t(()=>import("./de--DhM1nIX.js"),[],import.meta.url),"../../i18n/el.json":()=>t(()=>import("./el-SAR6qrYT.js"),[],import.meta.url),"../../i18n/en.json":()=>t(()=>import("./en-DHNjs9mE.js"),[],import.meta.url),"../../i18n/es.json":()=>t(()=>import("./es-CEhPn3Pn.js"),[],import.meta.url),"../../i18n/et.json":()=>t(()=>import("./et-CzIR6ZtK.js"),[],import.meta.url),"../../i18n/fi.json":()=>t(()=>import("./fi-C2S4r8Ky.js"),[],import.meta.url),"../../i18n/fr.json":()=>t(()=>import("./fr-qrj1apDx.js"),[],import.meta.url),"../../i18n/he.json":()=>t(()=>import("./he-CcVOOqFL.js"),[],import.meta.url),"../../i18n/hu.json":()=>t(()=>import("./hu-CxldJg0f.js"),[],import.meta.url),"../../i18n/id.json":()=>t(()=>import("./id-BNMD545Z.js"),[],import.meta.url),"../../i18n/it.json":()=>t(()=>import("./it-CeziAuGZ.js"),[],import.meta.url),"../../i18n/ja.json":()=>t(()=>import("./ja-CN64P_i5.js"),[],import.meta.url),"../../i18n/ko.json":()=>t(()=>import("./ko-ljzbS-5G.js"),[],import.meta.url),"../../i18n/lt.json":()=>t(()=>import("./lt-SuIoaKbW.js"),[],import.meta.url),"../../i18n/lv.json":()=>t(()=>import("./lv-B4O1M0qN.js"),[],import.meta.url),"../../i18n/nl.json":()=>t(()=>import("./nl-W5igPSrV.js"),[],import.meta.url),"../../i18n/no.json":()=>t(()=>import("./no-8R4tIWS3.js"),[],import.meta.url),"../../i18n/pl.json":()=>t(()=>import("./pl-B4lRQGdE.js"),[],import.meta.url),"../../i18n/pt.json":()=>t(()=>import("./pt-S3juMwvy.js"),[],import.meta.url),"../../i18n/ro.json":()=>t(()=>import("./ro-BRnRqobN.js"),[],import.meta.url),"../../i18n/ru.json":()=>t(()=>import("./ru-CXBe8_-o.js"),[],import.meta.url),"../../i18n/sk.json":()=>t(()=>import("./sk-C6VxH8rk.js"),[],import.meta.url),"../../i18n/sl.json":()=>t(()=>import("./sl-D5d89SwZ.js"),[],import.meta.url),"../../i18n/sv.json":()=>t(()=>import("./sv-BPNi0JcY.js"),[],import.meta.url),"../../i18n/th.json":()=>t(()=>import("./th-Ca96OWzf.js"),[],import.meta.url),"../../i18n/tr.json":()=>t(()=>import("./tr-DTgA0Gc_.js"),[],import.meta.url),"../../i18n/uk.json":()=>t(()=>import("./uk-DvlUa0DM.js"),[],import.meta.url),"../../i18n/vi.json":()=>t(()=>import("./vi-BvUUp9Y7.js"),[],import.meta.url),"../../i18n/zh.json":()=>t(()=>import("./zh-B6GGayWK.js"),[],import.meta.url)}),`../../i18n/${e}.json`,4).then(r=>{this.i18n.translations=r.default||r,this.$vuetify.locale.current=e})}}};function U(e,r,c,l,g,u){return n(),V(L,null,[a(A,null,{activator:o(({props:i})=>[a(E,P(i,{title:e.$gettext("Switch language"),icon:"mdi-web",class:"icon"}),null,16,["title"])]),default:o(()=>[a(I,null,{default:o(()=>[(n(!0),V(L,null,D(l.i18n.available,(i,_)=>(n(),s(d,{key:_},{default:o(()=>[a(E,{onClick:v=>u.change(_),variant:"text"},{default:o(()=>[p(m(l.languages.translate(_))+" ("+m(_)+")",1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),e.user?(n(),s(A,{key:0},{activator:o(({props:i})=>[a(E,P(i,{title:e.$gettext("User menu"),icon:"mdi-account-circle-outline",class:"icon"}),null,16,["title"])]),default:o(()=>[a(I,null,{default:o(()=>{var i;return[(i=e.user)!=null&&i.name?(n(),s(d,{key:0},{default:o(()=>[p(m(e.user.name),1)]),_:1})):f("",!0),a(d,null,{default:o(()=>[a(E,{onClick:r[0]||(r[0]=_=>u.logout()),variant:"text",class:"menu"},{default:o(()=>[p(m(e.$gettext("Logout")),1)]),_:1})]),_:1})]}),_:1})]),_:1})):f("",!0)],64)}const z=j(N,[["render",U]]),B={props:{content:{type:Array,required:!0},filter:{type:Object,required:!0}},emits:["update:filter"],setup(){return{drawer:k()}},data(){return{open:[0,1,2]}},methods:{active(e){for(const r in e.value)if(this.filter[r]!==e.value[r])return!1;return!0},has(e){return this.filter[e]!==null},toggle(e){for(const r in e.value)this.filter[r]=e.value[r];this.$emit("update:filter",this.filter)}}};function F(e,r,c,l,g,u){return n(),s(R,{modelValue:l.drawer.aside,"onUpdate:modelValue":r[1]||(r[1]=i=>l.drawer.aside=i),"mobile-breakpoint":"md",location:"end"},{default:o(()=>[a(I,{opened:g.open,"onUpdate:opened":r[0]||(r[0]=i=>g.open=i)},{default:o(()=>[(n(!0),V(L,null,D(c.content,(i,_)=>(n(),s(C,{key:_,value:_},{activator:o(({props:v})=>[a(d,P({ref_for:!0},v,{class:{active:u.has(i.key)}}),{default:o(()=>[p(m(i.title||i.key),1)]),_:2},1040,["class"])]),default:o(()=>[(n(!0),V(L,null,D(i.items||[],(v,T)=>(n(),s(d,{active:u.active(v),key:T,rounded:"lg"},{default:o(()=>[a(E,{onClick:H=>u.toggle(v),"prepend-icon":v.icon,variant:"text"},{default:o(()=>[p(m(v.title),1)]),_:2},1032,["onClick","prepend-icon"])]),_:2},1032,["active"]))),128))]),_:2},1032,["value"]))),128))]),_:1},8,["opened"])]),_:1},8,["modelValue"])}const Q=j(B,[["render",F],["__scopeId","data-v-4bb88666"]]),G={setup(){const{mobile:e}=x(),r=k();return{auth:O(),drawer:r,mobile:e}},methods:{toggle(){this.mobile&&(this.drawer.nav=!this.drawer.nav)}}};function q(e,r,c,l,g,u){const i=S("router-link");return n(),s(R,{modelValue:l.drawer.nav,"onUpdate:modelValue":r[3]||(r[3]=_=>l.drawer.nav=_),location:"start","mobile-breakpoint":"lg"},{default:o(()=>[a(I,null,{default:o(()=>[l.auth.can("page:view")?(n(),s(d,{key:0,rounded:"lg"},{default:o(()=>[a(h,{icon:"mdi-file-tree",class:"icon"}),a(i,{to:"/pages",class:"router-link",onClick:r[0]||(r[0]=_=>u.toggle())},{default:o(()=>[p(m(e.$gettext("Pages")),1)]),_:1})]),_:1})):f("",!0),l.auth.can("element:view")?(n(),s(d,{key:1,rounded:"lg"},{default:o(()=>[a(h,{icon:"mdi-share-variant",class:"icon"}),a(i,{to:"/elements",class:"router-link",onClick:r[1]||(r[1]=_=>u.toggle())},{default:o(()=>[p(m(e.$gettext("Shared elements")),1)]),_:1})]),_:1})):f("",!0),l.auth.can("file:view")?(n(),s(d,{key:2,rounded:"lg"},{default:o(()=>[a(h,{icon:"mdi-folder-multiple-image",class:"icon"}),a(i,{to:"/files",class:"router-link",onClick:r[2]||(r[2]=_=>u.toggle())},{default:o(()=>[p(m(e.$gettext("Files")),1)]),_:1})]),_:1})):f("",!0)]),_:1})]),_:1},8,["modelValue"])}const J=j(G,[["render",q],["__scopeId","data-v-b63ed0f8"]]);export{Q as A,J as N,z as U};
