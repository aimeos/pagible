import v from"./File-D5WgMcII.js";import{_ as C,c as p,o as s,a as l,b as r,w as t,V as m,r as g,T as V,F,d as u,e as i,f as U,n as b,g as w,h as D,i as B,j as $,k as f,l as d,t as n,m as L,p as A}from"./index-DvizQcpQ.js";import"./FileListItems-Bl_a0qFX.js";import"./ElementListItems-Cbulwi2T.js";import"./PageDetail-CMpIc1lM.js";import"./vue-draggable-plus-DOtOaqVX.js";import"./ElementDetail-IQZAPvgV.js";import"./FileDialog-B1wM5iHv.js";const N={extends:v,setup(){return{...v.setup()}}},E=["title"],I=["src"],R={key:1,class:"file"};function T(e,o,P,S,j,z){const k=g("FileDialog"),y=g("FileUrlDialog");return s(),p(F,null,[l(m,null,{default:t(()=>[l(i,{cols:"12",md:"6"},{default:t(()=>[U("div",{class:b(["files",{readonly:e.readonly}])},[e.file.id?(s(),p("div",{key:0,class:"file",onClick:o[2]||(o[2]=a=>e.open(e.file)),title:e.$gettext("Edit")},[e.file.uploading?(s(),r(w,{key:0,color:"primary",height:"5",indeterminate:"",rounded:""})):u("",!0),e.file.path?(s(),p("video",{key:1,src:e.url(e.file.path),draggable:!1,controls:""},null,8,I)):u("",!0),e.file.id&&!e.readonly?(s(),r(D,{key:2,location:"center"},{activator:t(({props:a})=>[l(f,L(a,{title:e.$gettext("Open menu"),icon:"mdi-dots-vertical",class:"btn-overlay",variant:"text"}),null,16,["title"])]),default:t(()=>[l(B,null,{default:t(()=>[e.auth.can("file:view")?(s(),r($,{key:0},{default:t(()=>[l(f,{onClick:o[0]||(o[0]=a=>e.open(e.file)),"prepend-icon":"mdi-pencil",variant:"text"},{default:t(()=>[d(n(e.$gettext("Edit")),1)]),_:1})]),_:1})):u("",!0),l($,null,{default:t(()=>[l(f,{onClick:o[1]||(o[1]=a=>e.remove()),"prepend-icon":"mdi-trash-can",variant:"text"},{default:t(()=>[d(n(e.$gettext("Remove")),1)]),_:1})]),_:1})]),_:1})]),_:1})):u("",!0)],8,E)):e.readonly?u("",!0):(s(),p("div",R,[e.auth.can("file:view")?(s(),r(f,{key:0,onClick:o[3]||(o[3]=a=>e.vfiles=!0),title:e.$gettext("Add file"),icon:"mdi-button-cursor",variant:"text"},null,8,["title"])):u("",!0),l(f,{onClick:o[4]||(o[4]=a=>e.vurls=!0),title:e.$gettext("Add file from URL"),icon:"mdi-link-variant-plus",variant:"text"},null,8,["title"]),l(f,{title:e.$gettext("Upload file"),icon:"mdi-upload",variant:"text"},{default:t(()=>[l(A,{modelValue:e.selected,"onUpdate:modelValue":[o[5]||(o[5]=a=>e.selected=a),o[6]||(o[6]=a=>e.add(a))],accept:e.config.accept||"video/*","hide-input":!0,"prepend-icon":"mdi-upload"},null,8,["modelValue","accept"])]),_:1},8,["title"])]))],2)]),_:1}),e.file.path?(s(),r(i,{key:0,cols:"12",md:"6",class:"meta"},{default:t(()=>[l(m,null,{default:t(()=>[l(i,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("name"))+":",1)]),_:1}),l(i,{cols:"12",md:"9"},{default:t(()=>[d(n(e.file.name),1)]),_:1})]),_:1}),l(m,null,{default:t(()=>[l(i,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("description"))+":",1)]),_:1}),l(i,{cols:"12",md:"9"},{default:t(()=>[d(n(e.description),1)]),_:1})]),_:1}),l(m,null,{default:t(()=>[l(i,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("mime"))+":",1)]),_:1}),l(i,{cols:"12",md:"9"},{default:t(()=>[d(n(e.file.mime),1)]),_:1})]),_:1}),l(m,null,{default:t(()=>[l(i,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("editor"))+":",1)]),_:1}),l(i,{cols:"12",md:"9"},{default:t(()=>[d(n(e.file.editor),1)]),_:1})]),_:1}),l(m,null,{default:t(()=>[l(i,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("updated"))+":",1)]),_:1}),l(i,{cols:"12",md:"9"},{default:t(()=>[d(n(new Date(e.file.updated_at).toLocaleString()),1)]),_:1})]),_:1})]),_:1})):u("",!0)]),_:1}),(s(),r(V,{to:"body"},[l(k,{modelValue:e.vfiles,"onUpdate:modelValue":o[7]||(o[7]=a=>e.vfiles=a),onAdd:o[8]||(o[8]=a=>{e.handle(a),e.vfiles=!1}),filter:{mime:"video/"}},null,8,["modelValue"])])),(s(),r(V,{to:"body"},[l(y,{modelValue:e.vurls,"onUpdate:modelValue":o[9]||(o[9]=a=>e.vurls=a),onAdd:o[10]||(o[10]=a=>{e.select(a),e.vurls=!1}),mime:"video/"},null,8,["modelValue"])]))],64)}const W=C(N,[["render",T],["__scopeId","data-v-4585c2c4"]]);export{W as default};
