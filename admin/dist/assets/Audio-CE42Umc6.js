import v from"./File-DFxX2RR6.js";import{_ as C,c as p,a as l,b as u,w as t,V as f,r as g,T as V,F,o as s,d as r,e as o,f as U,n as b,g as w,h as D,i as A,j as $,k as m,l as d,t as n,m as B,p as L}from"../index.js";import"./FileListItems-DaalEVK9.js";import"./utils-DDbXq5Dr.js";import"./FileDialog-BB5PmLox.js";const N={extends:v,setup(){return{...v.setup()}}},E=["title"],R=["src"],T={key:1,class:"file"};function I(e,a,P,S,j,z){const k=g("FileDialog"),y=g("FileUrlDialog");return s(),p(F,null,[l(f,null,{default:t(()=>[l(o,{cols:"12",md:"6"},{default:t(()=>[U("div",{class:b(["files",{readonly:e.readonly}])},[e.file.id?(s(),p("div",{key:0,class:"file",onClick:a[2]||(a[2]=i=>e.open(e.file)),title:e.$gettext("Edit file")},[e.file.uploading?(s(),u(w,{key:0,color:"primary",height:"5",indeterminate:"",rounded:""})):r("",!0),e.file.path?(s(),p("audio",{key:1,src:e.url(e.file.path),draggable:!1,controls:""},null,8,R)):r("",!0),e.file.id&&!e.readonly?(s(),u(D,{key:2},{activator:t(({props:i})=>[l(m,B(i,{title:e.$gettext("Open menu"),icon:"mdi-dots-vertical",class:"btn-overlay",variant:"flat"}),null,16,["title"])]),default:t(()=>[l(A,null,{default:t(()=>[e.auth.can("file:view")?(s(),u($,{key:0},{default:t(()=>[l(m,{onClick:a[0]||(a[0]=i=>e.open(e.file)),"prepend-icon":"mdi-pencil",variant:"text"},{default:t(()=>[d(n(e.$gettext("Edit file")),1)]),_:1})]),_:1})):r("",!0),l($,null,{default:t(()=>[l(m,{onClick:a[1]||(a[1]=i=>e.remove()),"prepend-icon":"mdi-trash-can",variant:"text"},{default:t(()=>[d(n(e.$gettext("Remove file")),1)]),_:1})]),_:1})]),_:1})]),_:1})):r("",!0)],8,E)):e.readonly?r("",!0):(s(),p("div",T,[e.auth.can("file:view")?(s(),u(m,{key:0,onClick:a[3]||(a[3]=i=>e.vfiles=!0),title:e.$gettext("Add file"),icon:"mdi-button-cursor",variant:"flat"},null,8,["title"])):r("",!0),l(m,{onClick:a[4]||(a[4]=i=>e.vurls=!0),title:e.$gettext("Add file from URL"),icon:"mdi-link-variant-plus",variant:"flat"},null,8,["title"]),l(m,{title:e.$gettext("Upload file"),icon:"mdi-upload",variant:"flat"},{default:t(()=>[l(L,{modelValue:e.selected,"onUpdate:modelValue":[a[5]||(a[5]=i=>e.selected=i),a[6]||(a[6]=i=>e.add(i))],accept:e.config.accept||"audio/*","hide-input":!0,"prepend-icon":"mdi-upload"},null,8,["modelValue","accept"])]),_:1},8,["title"])]))],2)]),_:1}),e.file.path?(s(),u(o,{key:0,cols:"12",md:"6",class:"meta"},{default:t(()=>[l(f,null,{default:t(()=>[l(o,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("name"))+":",1)]),_:1}),l(o,{cols:"12",md:"9"},{default:t(()=>[d(n(e.file.name),1)]),_:1})]),_:1}),l(f,null,{default:t(()=>[l(o,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("description"))+":",1)]),_:1}),l(o,{cols:"12",md:"9"},{default:t(()=>[d(n(e.description),1)]),_:1})]),_:1}),l(f,null,{default:t(()=>[l(o,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("mime"))+":",1)]),_:1}),l(o,{cols:"12",md:"9"},{default:t(()=>[d(n(e.file.mime),1)]),_:1})]),_:1}),l(f,null,{default:t(()=>[l(o,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("editor"))+":",1)]),_:1}),l(o,{cols:"12",md:"9"},{default:t(()=>[d(n(e.file.editor),1)]),_:1})]),_:1}),l(f,null,{default:t(()=>[l(o,{cols:"12",md:"3",class:"name"},{default:t(()=>[d(n(e.$gettext("updated"))+":",1)]),_:1}),l(o,{cols:"12",md:"9"},{default:t(()=>[d(n(new Date(e.file.updated_at).toLocaleString()),1)]),_:1})]),_:1})]),_:1})):r("",!0)]),_:1}),(s(),u(V,{to:"body"},[l(k,{modelValue:e.vfiles,"onUpdate:modelValue":a[7]||(a[7]=i=>e.vfiles=i),onAdd:a[8]||(a[8]=i=>{e.handle(i),e.vfiles=!1}),filter:{mime:"audio/"}},null,8,["modelValue"])])),(s(),u(V,{to:"body"},[l(y,{modelValue:e.vurls,"onUpdate:modelValue":a[9]||(a[9]=i=>e.vurls=i),onAdd:a[10]||(a[10]=i=>{e.select(i),e.vurls=!1}),mime:"audio/"},null,8,["modelValue"])]))],64)}const J=C(N,[["render",I]]);export{J as default};
