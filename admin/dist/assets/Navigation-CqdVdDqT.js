import{_ as j,bl as b,bm as r,aD as y,a7 as w,a3 as O,bn as $,bo as C,c as V,o as l,a as n,b as _,d as g,k as f,w as i,h as A,F as h,i as I,a5 as k,j as p,l as d,t as m,m as D,aI as P,aR as R,aS as S,Q as x,r as N,aF as L}from"./index-CYOThFeL.js";const U={data:()=>({user:null}),setup(){const t=y(),e=w(),E=O(),a=$(),v=C();return{auth:E,i18n:a,languages:t,messages:e,theme:v}},created(){this.auth.user().then(t=>{this.user=t}).catch(t=>{this.messages.add(this.$gettext("Failed to load user")+`:
`+t,"error")})},methods:{logout(){this.auth.logout().finally(()=>{this.user=null,this.$router.push({name:"login"})})},change(t){b(Object.assign({"../../i18n/ar.json":()=>r(()=>import("./ar-C2JDjRvh.js"),[],import.meta.url),"../../i18n/bg.json":()=>r(()=>import("./bg-BuhbldVZ.js"),[],import.meta.url),"../../i18n/cs.json":()=>r(()=>import("./cs-DiGQExA4.js"),[],import.meta.url),"../../i18n/da.json":()=>r(()=>import("./da-C9aLbRlK.js"),[],import.meta.url),"../../i18n/de.json":()=>r(()=>import("./de-ChtJNWCO.js"),[],import.meta.url),"../../i18n/el.json":()=>r(()=>import("./el-CPBEnnuQ.js"),[],import.meta.url),"../../i18n/en.json":()=>r(()=>import("./en-B3kwG4Fl.js"),[],import.meta.url),"../../i18n/es.json":()=>r(()=>import("./es-Drz_Jwe4.js"),[],import.meta.url),"../../i18n/et.json":()=>r(()=>import("./et-BChiG94m.js"),[],import.meta.url),"../../i18n/fi.json":()=>r(()=>import("./fi-66uaqMlj.js"),[],import.meta.url),"../../i18n/fr.json":()=>r(()=>import("./fr-B0wYYs4o.js"),[],import.meta.url),"../../i18n/he.json":()=>r(()=>import("./he-C1iydEoR.js"),[],import.meta.url),"../../i18n/hu.json":()=>r(()=>import("./hu-DK2UrRsA.js"),[],import.meta.url),"../../i18n/id.json":()=>r(()=>import("./id-DcJhq8KY.js"),[],import.meta.url),"../../i18n/it.json":()=>r(()=>import("./it-CepMBEA2.js"),[],import.meta.url),"../../i18n/ja.json":()=>r(()=>import("./ja-TPf8DAor.js"),[],import.meta.url),"../../i18n/ko.json":()=>r(()=>import("./ko-DlEMEX1Z.js"),[],import.meta.url),"../../i18n/lt.json":()=>r(()=>import("./lt-CmDKx1VL.js"),[],import.meta.url),"../../i18n/lv.json":()=>r(()=>import("./lv-BK_sXiLF.js"),[],import.meta.url),"../../i18n/nl.json":()=>r(()=>import("./nl-XCgkuqgl.js"),[],import.meta.url),"../../i18n/no.json":()=>r(()=>import("./no-DXKUIz22.js"),[],import.meta.url),"../../i18n/pl.json":()=>r(()=>import("./pl-1N6lvhWD.js"),[],import.meta.url),"../../i18n/pt.json":()=>r(()=>import("./pt-BlWC0lGA.js"),[],import.meta.url),"../../i18n/ro.json":()=>r(()=>import("./ro-D_WVphbV.js"),[],import.meta.url),"../../i18n/ru.json":()=>r(()=>import("./ru-BJ5GLYV3.js"),[],import.meta.url),"../../i18n/sk.json":()=>r(()=>import("./sk-CKFybIyU.js"),[],import.meta.url),"../../i18n/sl.json":()=>r(()=>import("./sl-E722pOMx.js"),[],import.meta.url),"../../i18n/sv.json":()=>r(()=>import("./sv-CND5cbrQ.js"),[],import.meta.url),"../../i18n/th.json":()=>r(()=>import("./th-D1t6LzB4.js"),[],import.meta.url),"../../i18n/tr.json":()=>r(()=>import("./tr-BtlYD-AC.js"),[],import.meta.url),"../../i18n/uk.json":()=>r(()=>import("./uk-bkyOU-li.js"),[],import.meta.url),"../../i18n/vi.json":()=>r(()=>import("./vi-yrgVvtca.js"),[],import.meta.url),"../../i18n/zh.json":()=>r(()=>import("./zh-BcBm3gCx.js"),[],import.meta.url)}),`../../i18n/${t}.json`,4).then(e=>{this.i18n.translations=e.default||e,this.$vuetify.locale.current=t,this.i18n.current=t})}}};function F(t,e,E,a,v,u){return l(),V(h,null,[n(f,{onClick:e[0]||(e[0]=o=>a.theme.toggle()),title:t.$gettext("Toggle light/dark mode"),icon:a.theme.global.current.value.dark?"mdi-white-balance-sunny":"mdi-weather-night"},null,8,["title","icon"]),n(A,null,{activator:i(({props:o})=>[n(f,D(o,{title:t.$gettext("Switch language"),icon:"mdi-web",class:"icon"}),null,16,["title"])]),default:i(()=>[n(I,null,{default:i(()=>[(l(!0),V(h,null,k(a.i18n.available,(o,s)=>(l(),_(p,{key:s},{default:i(()=>[n(f,{onClick:c=>u.change(s),variant:"text"},{default:i(()=>[d(m(a.languages.translate(s))+" ("+m(s)+")",1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),t.user?(l(),_(A,{key:0},{activator:i(({props:o})=>[n(f,D(o,{title:t.$gettext("User menu"),icon:"mdi-account-circle-outline",class:"icon"}),null,16,["title"])]),default:i(()=>[n(I,null,{default:i(()=>{var o;return[(o=t.user)!=null&&o.name?(l(),_(p,{key:0},{default:i(()=>[d(m(t.user.name),1)]),_:1})):g("",!0),n(p,null,{default:i(()=>[n(f,{"prepend-icon":"mdi-logout",onClick:e[1]||(e[1]=s=>u.logout()),variant:"text",class:"menu-item"},{default:i(()=>[d(m(t.$gettext("Logout")),1)]),_:1})]),_:1})]}),_:1})]),_:1})):g("",!0)],64)}const H=j(U,[["render",F],["__scopeId","data-v-6d217c72"]]),B={props:{content:{type:Array,required:!0},filter:{type:Object,required:!0}},emits:["update:filter"],setup(){return{drawer:P()}},data(){return{initial:null,open:[]}},created(){this.initial={...this.filter},this.open=this.content.map((t,e)=>this.has(t.key)?e:!1).filter(t=>t!==!1)},computed:{disabled(){return JSON.stringify(this.filter)===JSON.stringify(this.initial)}},methods:{active(t){for(const e in t.value)if(this.filter[e]!==t.value[e])return!1;return!0},has(t){return this.filter[t]!==null},toggle(t){for(const e in t.value)this.filter[e]=t.value[e];this.$emit("update:filter",this.filter)}}};function q(t,e,E,a,v,u){return l(),_(R,{modelValue:a.drawer.aside,"onUpdate:modelValue":e[2]||(e[2]=o=>a.drawer.aside=o),"mobile-breakpoint":"md",location:"end"},{default:i(()=>[n(f,{class:"reset",disabled:u.disabled,onClick:e[0]||(e[0]=o=>t.$emit("update:filter",v.initial)),"prepend-icon":"mdi-close-circle-outline",variant:"text"},{default:i(()=>[d(m(t.$gettext("Reset")),1)]),_:1},8,["disabled"]),n(I,{opened:v.open,"onUpdate:opened":e[1]||(e[1]=o=>v.open=o)},{default:i(()=>[(l(!0),V(h,null,k(E.content,(o,s)=>(l(),_(S,{key:s,value:s},{activator:i(({props:c})=>[n(p,D({ref_for:!0},c,{class:{active:u.has(o.key)}}),{default:i(()=>[d(m(o.title||o.key),1)]),_:2},1040,["class"])]),default:i(()=>[(l(!0),V(h,null,k(o.items||[],(c,T)=>(l(),_(p,{active:u.active(c),key:T,rounded:"lg"},{default:i(()=>[n(f,{onClick:M=>u.toggle(c),"prepend-icon":c.icon,variant:"text"},{default:i(()=>[d(m(c.title),1)]),_:2},1032,["onClick","prepend-icon"])]),_:2},1032,["active"]))),128))]),_:2},1032,["value"]))),128))]),_:1},8,["opened"])]),_:1},8,["modelValue"])}const Q=j(B,[["render",q],["__scopeId","data-v-13a039db"]]),G={setup(){const{mobile:t}=x(),e=P();return{auth:O(),drawer:e,mobile:t}},methods:{toggle(){this.mobile&&(this.drawer.nav=!this.drawer.nav)}}};function J(t,e,E,a,v,u){const o=N("router-link");return l(),_(R,{modelValue:a.drawer.nav,"onUpdate:modelValue":e[3]||(e[3]=s=>a.drawer.nav=s),location:"start","mobile-breakpoint":"lg"},{default:i(()=>[n(I,null,{default:i(()=>[a.auth.can("page:view")?(l(),_(p,{key:0,rounded:"lg"},{default:i(()=>[n(L,{icon:"mdi-file-tree",class:"icon"}),n(o,{to:"/pages",class:"router-link",onClick:e[0]||(e[0]=s=>u.toggle())},{default:i(()=>[d(m(t.$gettext("Pages")),1)]),_:1})]),_:1})):g("",!0),a.auth.can("element:view")?(l(),_(p,{key:1,rounded:"lg"},{default:i(()=>[n(L,{icon:"mdi-share-variant",class:"icon"}),n(o,{to:"/elements",class:"router-link",onClick:e[1]||(e[1]=s=>u.toggle())},{default:i(()=>[d(m(t.$gettext("Shared elements")),1)]),_:1})]),_:1})):g("",!0),a.auth.can("file:view")?(l(),_(p,{key:2,rounded:"lg"},{default:i(()=>[n(L,{icon:"mdi-folder-multiple-image",class:"icon"}),n(o,{to:"/files",class:"router-link",onClick:e[2]||(e[2]=s=>u.toggle())},{default:i(()=>[d(m(t.$gettext("Files")),1)]),_:1})]),_:1})):g("",!0)]),_:1})]),_:1},8,["modelValue"])}const K=j(G,[["render",J],["__scopeId","data-v-21d710df"]]);export{Q as A,K as N,H as U};
